{"version":3,"sources":["components/not-found.jsx","components/payBill.jsx","components/itemCard.jsx","components/cartCard.jsx","components/nav-bar.jsx","components/BarcodeScanner.jsx","components/BarCodeHandler.jsx","pages/Store.jsx","App.js","index.js"],"names":["NotFound","loadScript","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","PayBill","amount","displayRazorpay","a","alert","axios","post","process","currency","then","res","console","log","data","user","localStorage","getItem","options","key","toString","order_id","id","name","handler","response","window","prefill","email","phone_number","cust_ph_num","Razorpay","open","catch","err","Button","variant","style","borderRadius","onClick","confirm","aria-label","ItemCard","itemData","index","handleQuantityChange","deleteItem","w","backgroundColor","py","display","flexDirection","justifyContent","alignItems","marginLeft","Typography","price","width","marginInline","onChange","newValue","value","quantity","textWrap","margin","color","CartCard","items","useState","itemScaned","setItemScaned","totalPrice","setTotalPrice","useEffect","length","reduce","b","Number","TotalCard","background","marginTop","fontSize","padding","paddingTop","marginBottom","map","item","NavBar","Box","sx","flexGrow","AppBar","position","Toolbar","IconButton","size","edge","mr","component","Scanner","_onDetected","result","props","onDetected","Quagga","init","inputStream","type","target","querySelector","locator","halfSample","patchSize","debug","showCanvas","showPatches","showFoundPatches","showSkeleton","showLabels","showPatchLabels","showRemainingPatchLabels","boxFromPatches","showTransformed","showTransformedBox","showBB","numOfWorkers","decoder","readers","drawBoundingBox","showFrequency","drawScanline","showPattern","locate","start","this","offDetected","className","Component","BarCodeScanner","getItemID","IDs","setIDs","idOfItems","barID","e","includes","codeResult","code","BarCodeHandler","storeID","setItemData","handleScan","get","headers","item_id","store_id","textAlign","Paper","StoreName","Store","match","params","storeData","setStoreData","allItems","setAllitems","filter","getStoreDetails","Container","CssBaseline","store_name","newItem","newAllItems","App","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.edc69d90.chunk.js","sourcesContent":["const NotFound = () => {\r\n  return <h1>not found</h1>;\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport { Button } from \"@mui/material\";\r\nimport axios from \"axios\";\r\n\r\nfunction loadScript(src) {\r\n  return new Promise((resolve) => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = src;\r\n    script.onload = () => {\r\n      resolve(true);\r\n    };\r\n    script.onerror = () => {\r\n      resolve(false);\r\n    };\r\n    document.body.appendChild(script);\r\n  });\r\n}\r\n\r\nfunction PayBill({ amount }) {\r\n  const displayRazorpay = async () => {\r\n    const res = await loadScript(\r\n      \"https://checkout.razorpay.com/v1/checkout.js\"\r\n    );\r\n\r\n    if (!res) {\r\n      alert(\"Razorpay SDK failed to load. Are you online?\");\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .post(`${process.env.REACT_APP_BACKEND_HOST}/payment/razorpay`, {\r\n        amount,\r\n        currency: \"INR\",\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n\r\n        const user = localStorage.getItem(\"user\");\r\n\r\n        let options = {\r\n          //enter key below\r\n          key: res.data.key,\r\n          currency: res.data.currency,\r\n          amount: res.data.amount.toString(),\r\n          order_id: res.data.id,\r\n          name: \"Pay Bill\",\r\n          handler: function (response) {\r\n            window.alert(\"Payment made successfully.\");\r\n          },\r\n        };\r\n        if (user) {\r\n          options.prefill = {\r\n            name: user.name,\r\n            email: user.email,\r\n            phone_number: user.cust_ph_num,\r\n          };\r\n        }\r\n        const paymentObject = new window.Razorpay(options);\r\n        paymentObject.open();\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"Some error occured in connecting to RazorPay\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      variant=\"contained\"\r\n      style={{ borderRadius: 5 }}\r\n      onClick={() => {\r\n        if (window.confirm(\"Are you sure you want to check out?\")) {\r\n          displayRazorpay();\r\n        }\r\n      }}\r\n      aria-label=\"view\"\r\n    >\r\n      CheckOut\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default PayBill;\r\n","import { IconButton, Paper, Typography } from \"@mui/material\";\r\nimport { Box } from \"@chakra-ui/react\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport CounterInput from \"react-bootstrap-counter\";\r\n\r\nconst ItemCard = ({ itemData, index, deleteItem, handleQuantityChange }) => {\r\n  const handleQuantity = (newValue) => {\r\n    handleQuantityChange(newValue, index);\r\n  };\r\n  return (\r\n    <>\r\n      <Box w={\"100%\"} backgroundColor={\"white\"} py={20}>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n            }}\r\n          >\r\n            <div style={{ marginLeft: 10 }}>\r\n              <Typography variant=\"h6\">\r\n                <b>{itemData.name}</b>\r\n              </Typography>\r\n\r\n              <Typography variant=\"body1\">Price ₹ {itemData.price}</Typography>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div style={{ width: \"115px\", marginInline: 5 }}>\r\n              <CounterInput\r\n                onChange={handleQuantity}\r\n                value={itemData.quantity}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <Typography variant=\"h6\" style={{ textWrap: \"none\" }}>\r\n              ₹{itemData.quantity * itemData.price}\r\n            </Typography>\r\n          </div>\r\n        </div>\r\n      </Box>{\" \"}\r\n      <hr style={{ margin: 0, width: \"100%\", color: \"white\" }} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ItemCard;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Text } from \"@chakra-ui/react\";\r\nimport PayBill from \"./payBill\";\r\nimport ItemCard from \"./itemCard\";\r\nimport ShoppingCartIcon from \"@mui/icons-material/ShoppingCart\";\r\nconst CartCard = ({ items, handleQuantityChange, deleteItem }) => {\r\n  const [itemScaned, setItemScaned] = useState(false);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  useEffect(() => {\r\n    console.log(items);\r\n    if (items.length > 1) {\r\n      setItemScaned(true);\r\n      setTotalPrice(\r\n        items.reduce((a, b) => {\r\n          if (typeof a === \"number\") {\r\n            return Number(a) + Number(b.price) * b.quantity;\r\n          }\r\n          return Number(a.price) * a.quantity + Number(b.price) * b.quantity;\r\n        })\r\n      );\r\n    }\r\n    if (items.length === 1) {\r\n      setItemScaned(true);\r\n      setTotalPrice(Number(items[0].price) * items[0].quantity);\r\n    }\r\n    if (items.length < 1) {\r\n      setItemScaned(false);\r\n    }\r\n  }, [items]);\r\n\r\n  const TotalCard = () => {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"space-between\",\r\n          width: \"100%\",\r\n          background: \"white\",\r\n          marginTop: 20,\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Text fontSize={14}>Total: ₹ {totalPrice}</Text>\r\n        </div>\r\n        <PayBill amount={totalPrice} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {itemScaned ? (\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            padding: 20,\r\n            paddingTop: 0,\r\n            background: \"white\",\r\n          }}\r\n        >\r\n          <ShoppingCartIcon\r\n            style={{\r\n              fontSize: 40,\r\n              marginTop: 20,\r\n              marginBottom: 20,\r\n              color: \"grey\",\r\n            }}\r\n          />\r\n          <hr style={{ margin: 0, width: \"100%\", color: \"white\" }} />\r\n          {items.length > 0\r\n            ? items.map((item, index) => (\r\n                <ItemCard\r\n                  key={index}\r\n                  index={index}\r\n                  itemData={item}\r\n                  handleQuantityChange={handleQuantityChange}\r\n                  deleteItem={deleteItem}\r\n                />\r\n              ))\r\n            : \"\"}\r\n          <TotalCard />\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartCard;\r\n","import * as React from \"react\";\r\nimport AppBar from \"@mui/material/AppBar\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Button from \"@mui/material/Button\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport HomeRoundedIcon from \"@mui/icons-material/HomeRounded\";\r\n\r\nexport default function NavBar() {\r\n  return (\r\n    <Box sx={{ flexGrow: 1 }}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            size=\"large\"\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            sx={{ mr: 2 }}\r\n          >\r\n            <HomeRoundedIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n            CHEK\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </Box>\r\n  );\r\n}\r\n","import React, { Component, useEffect } from \"react\";\r\nimport Quagga from \"quagga\";\r\nimport { useState } from \"react\";\r\nimport { width } from \"@mui/system\";\r\n\r\nclass Scanner extends Component {\r\n  componentDidMount() {\r\n    Quagga.init(\r\n      {\r\n        inputStream: {\r\n          type: \"LiveStream\",\r\n\r\n          target: document.querySelector(\"#barcode-scanner\"),\r\n        },\r\n        locator: {\r\n          halfSample: true,\r\n          patchSize: \"large\", // x-small, small, medium, large, x-large\r\n          debug: {\r\n            showCanvas: true,\r\n            showPatches: false,\r\n            showFoundPatches: false,\r\n            showSkeleton: false,\r\n            showLabels: false,\r\n            showPatchLabels: false,\r\n            showRemainingPatchLabels: false,\r\n            boxFromPatches: {\r\n              showTransformed: true,\r\n              showTransformedBox: true,\r\n              showBB: true,\r\n            },\r\n          },\r\n        },\r\n        numOfWorkers: 4,\r\n        decoder: {\r\n          readers: [\"code_128_reader\"],\r\n          debug: {\r\n            drawBoundingBox: true,\r\n            showFrequency: true,\r\n            drawScanline: true,\r\n            showPattern: true,\r\n          },\r\n        },\r\n        locate: true,\r\n      },\r\n      function (err) {\r\n        if (err) {\r\n          return console.log(err);\r\n        }\r\n        Quagga.start();\r\n      }\r\n    );\r\n    Quagga.onDetected(this._onDetected);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    Quagga.offDetected(this._onDetected);\r\n  }\r\n\r\n  _onDetected = (result) => {\r\n    this.props.onDetected(result);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"barcode-scanner\">\r\n        <video style={{ width: \"100%\", borderRadius: 5 }} src=\"\"></video>\r\n        <canvas style={{ display: \"none\" }} className=\"drawingBuffer\"></canvas>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst BarCodeScanner = ({ getItemID, items }) => {\r\n  const [IDs, setIDs] = useState([]);\r\n  const _onDetected = (e) => {\r\n    if (!IDs.includes(e.codeResult.code)) {\r\n      setIDs([...IDs, e.codeResult.code]);\r\n      getItemID(e.codeResult.code);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const idOfItems = items.map((item) => item.barID);\r\n    setIDs(idOfItems);\r\n  }, [items]);\r\n\r\n  return <Scanner onDetected={_onDetected} />;\r\n};\r\n\r\nexport default BarCodeScanner;\r\n","import { Button, Paper } from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport BarCodeScanner from \"./BarcodeScanner\";\r\n\r\nfunction BarCodeHandler({ items, storeID, setItemData }) {\r\n  const handleError = (e) => {\r\n    if (e) {\r\n      window.alert(\"Some error occured\");\r\n    }\r\n  };\r\n  const handleScan = async (data) => {\r\n    if (data) {\r\n      console.log(\"data read\", data);\r\n\r\n      try {\r\n        const res = await axios.get(\r\n          `${process.env.REACT_APP_BACKEND_HOST}/item/getItemData`,\r\n          {\r\n            headers: {\r\n              item_id: data,\r\n              store_id: storeID,\r\n            },\r\n          }\r\n        );\r\n        console.log({ ...res.data.itemData, barID: data });\r\n        setItemData({ ...res.data.itemData, barID: data });\r\n      } catch (error) {\r\n        window.alert(\"Some error occured\");\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: 20,\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <Paper style={{ padding: 5 }}>\r\n        <BarCodeScanner items={items} getItemID={handleScan} />\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BarCodeHandler;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport CartCard from \"../components/cartCard\";\r\nimport ItemCard from \"../components/itemCard\";\r\nimport NavBar from \"../components/nav-bar\";\r\nimport BarCodeHandler from \"../components/BarCodeHandler\";\r\nimport BarCodeScanner from \"../components/BarcodeScanner\";\r\nimport { Container, CssBaseline, Typography } from \"@mui/material\";\r\n\r\nconst StoreName = ({ name }) => {\r\n  return (\r\n    <div style={{ textAlign: \"center\", marginTop: 20 }}>\r\n      <Typography variant=\"h5\">\r\n        <b>{name}</b>\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Store = ({\r\n  match: {\r\n    params: { id },\r\n  },\r\n}) => {\r\n  const [storeData, setStoreData] = useState({});\r\n  const [allItems, setAllitems] = useState([]);\r\n\r\n  const handleScannedItem = (newItem) => {\r\n    const namesOfItems = allItems.map((item) => item.name);\r\n    if (!namesOfItems.includes(newItem.name)) {\r\n      setAllitems([...allItems, { ...newItem, quantity: 1 }]);\r\n    }\r\n  };\r\n\r\n  const handleQuantityChange = (newValue, index) => {\r\n    if (newValue === 0) {\r\n      deleteItem(index);\r\n      return;\r\n    }\r\n    let newAllItems = [...allItems];\r\n    newAllItems[index].quantity = newValue;\r\n    setAllitems(newAllItems);\r\n  };\r\n\r\n  const deleteItem = (id) => {\r\n    setAllitems(allItems.filter((item, index) => index !== id));\r\n  };\r\n\r\n  const getStoreDetails = async () => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${process.env.REACT_APP_BACKEND_HOST}/store/getStoreData`,\r\n        {\r\n          headers: {\r\n            store_id: id,\r\n          },\r\n        }\r\n      );\r\n      console.log(res.data.storeData);\r\n      setStoreData(res.data.storeData);\r\n    } catch (error) {\r\n      window.alert(\"Some error occured\");\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStoreDetails();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <Container style={{ padding: 0 }}>\r\n        <CssBaseline />\r\n        <StoreName name={storeData.store_name} />\r\n        <BarCodeHandler\r\n          items={allItems}\r\n          setItemData={handleScannedItem}\r\n          storeID={id}\r\n        />\r\n\r\n        <CartCard\r\n          handleQuantityChange={handleQuantityChange}\r\n          deleteItem={deleteItem}\r\n          items={allItems}\r\n        />\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Store;\r\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport NotFound from \"./components/not-found\";\r\nimport Store from \"./pages/Store\";\r\nimport BarCodeScanner from \"./components/BarcodeScanner\";\r\nimport NavBar from \"./components/nav-bar\";\r\nimport { CssBaseline } from \"@mui/material\";\r\nconst App = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={() => <h1>Home</h1>} />\r\n        <Route exact path=\"/barcode\" component={BarCodeScanner} />\r\n        <Route exact path=\"/storeHome/:id\" component={Store} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}