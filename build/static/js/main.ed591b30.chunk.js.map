{"version":3,"sources":["components/not-found.jsx","components/payBill.jsx","components/cartCard.jsx","components/itemCard.jsx","components/nav-bar.jsx","components/BarcodeScanner.jsx","components/BarCodeHandler.jsx","pages/Store.jsx","App.js","index.js"],"names":["NotFound","loadScript","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","PayBill","amount","displayRazorpay","a","alert","axios","post","process","currency","then","res","console","log","data","user","localStorage","getItem","options","key","toString","order_id","id","name","handler","response","window","prefill","email","phone_number","cust_ph_num","Razorpay","open","catch","err","Button","variant","style","borderRadius","onClick","confirm","aria-label","CartCard","items","useState","itemScaned","setItemScaned","totalPrice","setTotalPrice","useEffect","length","reduce","b","Number","price","quantity","Paper","margin","padding","display","flexDirection","justifyContent","alignItems","Typography","ItemCard","itemData","index","handleQuantityChange","deleteItem","alignContent","width","img_url","alt","marginLeft","onChange","newValue","value","NavBar","Box","sx","flexGrow","AppBar","position","Toolbar","IconButton","size","edge","color","mr","component","Scanner","_onDetected","result","props","onDetected","Quagga","init","inputStream","type","target","querySelector","locator","halfSample","patchSize","debug","showCanvas","showPatches","showFoundPatches","showSkeleton","showLabels","showPatchLabels","showRemainingPatchLabels","boxFromPatches","showTransformed","showTransformedBox","showBB","numOfWorkers","decoder","readers","drawBoundingBox","showFrequency","drawScanline","showPattern","locate","start","this","offDetected","className","Component","BarCodeScanner","getItemID","IDs","setIDs","idOfItems","map","item","barID","e","includes","codeResult","code","BarCodeHandler","storeID","setItemData","handleScan","get","headers","item_id","store_id","textAlign","StoreName","marginTop","Store","match","params","storeData","setStoreData","allItems","setAllitems","newAllItems","filter","getStoreDetails","store_name","newItem","App","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ed591b30.chunk.js","sourcesContent":["const NotFound = () => {\r\n  return <h1>not found</h1>;\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport { Button } from \"@mui/material\";\r\nimport axios from \"axios\";\r\n\r\nfunction loadScript(src) {\r\n  return new Promise((resolve) => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = src;\r\n    script.onload = () => {\r\n      resolve(true);\r\n    };\r\n    script.onerror = () => {\r\n      resolve(false);\r\n    };\r\n    document.body.appendChild(script);\r\n  });\r\n}\r\n\r\nfunction PayBill({ amount }) {\r\n  const displayRazorpay = async () => {\r\n    const res = await loadScript(\r\n      \"https://checkout.razorpay.com/v1/checkout.js\"\r\n    );\r\n\r\n    if (!res) {\r\n      alert(\"Razorpay SDK failed to load. Are you online?\");\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .post(`${process.env.REACT_APP_BACKEND_HOST}/payment/razorpay`, {\r\n        amount,\r\n        currency: \"INR\",\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n\r\n        const user = localStorage.getItem(\"user\");\r\n\r\n        let options = {\r\n          //enter key below\r\n          key: res.data.key,\r\n          currency: res.data.currency,\r\n          amount: res.data.amount.toString(),\r\n          order_id: res.data.id,\r\n          name: \"Pay Bill\",\r\n          handler: function (response) {\r\n            window.alert(\"Payment made successfully.\");\r\n          },\r\n        };\r\n        if (user) {\r\n          options.prefill = {\r\n            name: user.name,\r\n            email: user.email,\r\n            phone_number: user.cust_ph_num,\r\n          };\r\n        }\r\n        const paymentObject = new window.Razorpay(options);\r\n        paymentObject.open();\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"Some error occured in connecting to RazorPay\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      variant=\"contained\"\r\n      style={{ borderRadius: 5 }}\r\n      onClick={() => {\r\n        if (window.confirm(\"Are you sure you want to check out?\")) {\r\n          displayRazorpay();\r\n        }\r\n      }}\r\n      aria-label=\"view\"\r\n    >\r\n      CheckOut\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default PayBill;\r\n","import { Button, Paper, Typography } from \"@mui/material\";\r\nimport { useEffect, useState } from \"react\";\r\nimport PayBill from \"./payBill\";\r\n\r\nconst CartCard = ({ items }) => {\r\n  const [itemScaned, setItemScaned] = useState(false);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  useEffect(() => {\r\n    console.log(items);\r\n    if (items.length > 1) {\r\n      setItemScaned(true);\r\n      setTotalPrice(\r\n        items.reduce((a, b) => {\r\n          if (typeof a === \"number\") {\r\n            return Number(a) + Number(b.price) * b.quantity;\r\n          }\r\n          return Number(a.price) * a.quantity + Number(b.price) * b.quantity;\r\n        })\r\n      );\r\n    }\r\n    if (items.length === 1) {\r\n      setItemScaned(true);\r\n      setTotalPrice(Number(items[0].price) * items[0].quantity);\r\n    }\r\n    if (items.length < 1) {\r\n      setItemScaned(false);\r\n    }\r\n  }, [items]);\r\n\r\n  return (\r\n    <div>\r\n      {itemScaned ? (\r\n        <Paper style={{ margin: 20, padding: 20 }}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <Typography variant=\"h6\">Total: {totalPrice}</Typography>\r\n            </div>\r\n            <PayBill amount={totalPrice} />\r\n          </div>\r\n        </Paper>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartCard;\r\n","import { IconButton, Paper, Typography } from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport CounterInput from \"react-bootstrap-counter\";\r\n\r\nconst ItemCard = ({ itemData, index, deleteItem, handleQuantityChange }) => {\r\n  const handleQuantity = (newValue) => {\r\n    handleQuantityChange(newValue, index);\r\n  };\r\n  return (\r\n    <Paper style={{ margin: 10, padding: 20 }}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignContent: \"center\",\r\n            }}\r\n          >\r\n            <img width={100} src={itemData.img_url} alt=\"...\"></img>\r\n          </div>\r\n          <div style={{ marginLeft: 10 }}>\r\n            <Typography variant=\"h6\">\r\n              <b>{itemData.name}</b>\r\n            </Typography>\r\n\r\n            <Typography variant=\"body1\">Price {itemData.price}</Typography>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div style={{ width: \"115px\" }}>\r\n            <CounterInput onChange={handleQuantity} value={itemData.quantity} />\r\n          </div>\r\n          {/* <IconButton\r\n            style={{ width: 50, borderRadius: 5 }}\r\n            onClick={() => {\r\n              deleteItem(index);\r\n            }}\r\n          >\r\n            <DeleteIcon />\r\n          </IconButton> */}\r\n        </div>\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default ItemCard;\r\n","import * as React from \"react\";\r\nimport AppBar from \"@mui/material/AppBar\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Button from \"@mui/material/Button\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport HomeRoundedIcon from \"@mui/icons-material/HomeRounded\";\r\n\r\nexport default function NavBar() {\r\n  return (\r\n    <Box sx={{ flexGrow: 1 }}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            size=\"large\"\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            sx={{ mr: 2 }}\r\n          >\r\n            <HomeRoundedIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n            CHEK\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </Box>\r\n  );\r\n}\r\n","import React, { Component, useEffect } from \"react\";\r\nimport Quagga from \"quagga\";\r\nimport { useState } from \"react\";\r\nimport { width } from \"@mui/system\";\r\n\r\nclass Scanner extends Component {\r\n  componentDidMount() {\r\n    Quagga.init(\r\n      {\r\n        inputStream: {\r\n          type: \"LiveStream\",\r\n\r\n          target: document.querySelector(\"#barcode-scanner\"),\r\n        },\r\n        locator: {\r\n          halfSample: true,\r\n          patchSize: \"large\", // x-small, small, medium, large, x-large\r\n          debug: {\r\n            showCanvas: true,\r\n            showPatches: false,\r\n            showFoundPatches: false,\r\n            showSkeleton: false,\r\n            showLabels: false,\r\n            showPatchLabels: false,\r\n            showRemainingPatchLabels: false,\r\n            boxFromPatches: {\r\n              showTransformed: true,\r\n              showTransformedBox: true,\r\n              showBB: true,\r\n            },\r\n          },\r\n        },\r\n        numOfWorkers: 4,\r\n        decoder: {\r\n          readers: [\"code_128_reader\"],\r\n          debug: {\r\n            drawBoundingBox: true,\r\n            showFrequency: true,\r\n            drawScanline: true,\r\n            showPattern: true,\r\n          },\r\n        },\r\n        locate: true,\r\n      },\r\n      function (err) {\r\n        if (err) {\r\n          return console.log(err);\r\n        }\r\n        Quagga.start();\r\n      }\r\n    );\r\n    Quagga.onDetected(this._onDetected);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    Quagga.offDetected(this._onDetected);\r\n  }\r\n\r\n  _onDetected = (result) => {\r\n    this.props.onDetected(result);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"barcode-scanner\">\r\n        <video style={{ width: \"100%\", borderRadius: 5 }} src=\"\"></video>\r\n        <canvas style={{ display: \"none\" }} className=\"drawingBuffer\"></canvas>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst BarCodeScanner = ({ getItemID, items }) => {\r\n  const [IDs, setIDs] = useState([]);\r\n  const _onDetected = (e) => {\r\n    if (!IDs.includes(e.codeResult.code)) {\r\n      setIDs([...IDs, e.codeResult.code]);\r\n      getItemID(e.codeResult.code);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const idOfItems = items.map((item) => item.barID);\r\n    setIDs(idOfItems);\r\n  }, [items]);\r\n\r\n  return <Scanner onDetected={_onDetected} />;\r\n};\r\n\r\nexport default BarCodeScanner;\r\n","import { Button, Paper } from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport BarCodeScanner from \"./BarcodeScanner\";\r\n\r\nfunction BarCodeHandler({ items, storeID, setItemData }) {\r\n  const handleError = (e) => {\r\n    if (e) {\r\n      window.alert(\"Some error occured\");\r\n    }\r\n  };\r\n  const handleScan = async (data) => {\r\n    if (data) {\r\n      console.log(\"data read\", data);\r\n\r\n      try {\r\n        const res = await axios.get(\r\n          `${process.env.REACT_APP_BACKEND_HOST}/item/getItemData`,\r\n          {\r\n            headers: {\r\n              item_id: data,\r\n              store_id: storeID,\r\n            },\r\n          }\r\n        );\r\n        console.log({ ...res.data.itemData, barID: data });\r\n        setItemData({ ...res.data.itemData, barID: data });\r\n      } catch (error) {\r\n        window.alert(\"Some error occured\");\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: 20,\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <Paper style={{ padding: 5 }}>\r\n        <BarCodeScanner items={items} getItemID={handleScan} />\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BarCodeHandler;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport CartCard from \"../components/cartCard\";\r\nimport ItemCard from \"../components/itemCard\";\r\nimport NavBar from \"../components/nav-bar\";\r\nimport BarCodeHandler from \"../components/BarCodeHandler\";\r\nimport BarCodeScanner from \"../components/BarcodeScanner\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst StoreName = ({ name }) => {\r\n  return (\r\n    <div style={{ textAlign: \"center\", marginTop: 20 }}>\r\n      <Typography variant=\"h5\">\r\n        <b>{name}</b>\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Store = ({\r\n  match: {\r\n    params: { id },\r\n  },\r\n}) => {\r\n  const [storeData, setStoreData] = useState({});\r\n  const [allItems, setAllitems] = useState([]);\r\n\r\n  const handleScannedItem = (newItem) => {\r\n    const namesOfItems = allItems.map((item) => item.name);\r\n    if (!namesOfItems.includes(newItem.name)) {\r\n      setAllitems([...allItems, { ...newItem, quantity: 1 }]);\r\n    }\r\n  };\r\n\r\n  const handleQuantityChange = (newValue, index) => {\r\n    if (newValue === 0) {\r\n      deleteItem(index);\r\n      return;\r\n    }\r\n    let newAllItems = allItems;\r\n    newAllItems[index].quantity = newValue;\r\n    setAllitems(newAllItems);\r\n  };\r\n\r\n  const deleteItem = (id) => {\r\n    setAllitems(allItems.filter((item, index) => index !== id));\r\n  };\r\n\r\n  const getStoreDetails = async () => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${process.env.REACT_APP_BACKEND_HOST}/store/getStoreData`,\r\n        {\r\n          headers: {\r\n            store_id: id,\r\n          },\r\n        }\r\n      );\r\n      console.log(res.data.storeData);\r\n      setStoreData(res.data.storeData);\r\n    } catch (error) {\r\n      window.alert(\"Some error occured\");\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStoreDetails();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <StoreName name={storeData.store_name} />\r\n      <BarCodeHandler\r\n        items={allItems}\r\n        setItemData={handleScannedItem}\r\n        storeID={id}\r\n      />\r\n      {allItems.length > 0\r\n        ? allItems.map((item, index) => (\r\n            <ItemCard\r\n              key={index}\r\n              index={index}\r\n              itemData={item}\r\n              handleQuantityChange={handleQuantityChange}\r\n              deleteItem={deleteItem}\r\n            />\r\n          ))\r\n        : \"\"}\r\n      <CartCard items={allItems} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Store;\r\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport NotFound from \"./components/not-found\";\r\nimport Store from \"./pages/Store\";\r\nimport BarCodeScanner from \"./components/BarcodeScanner\";\r\nimport NavBar from \"./components/nav-bar\";\r\nimport { CssBaseline } from \"@mui/material\";\r\nconst App = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        {/* <CssBaseline /> */}\r\n        <Route exact path=\"/\" component={() => <h1>Home</h1>} />\r\n        <Route exact path=\"/barcode\" component={BarCodeScanner} />\r\n        <Route exact path=\"/storeHome/:id\" component={Store} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}