{"version":3,"sources":["components/not-found.jsx","components/cartCard.jsx","components/itemCard.jsx","components/nav-bar.jsx","components/BarcodeScanner.jsx","components/BarCodeHandler.jsx","pages/Store.jsx","App.js","index.js"],"names":["NotFound","CartCard","items","useState","itemScaned","setItemScaned","totalPrice","setTotalPrice","useEffect","length","reduce","a","b","Number","price","Paper","style","margin","padding","display","flexDirection","justifyContent","Typography","variant","Button","borderRadius","onClick","window","confirm","location","reload","ItemCard","itemData","index","deleteItem","name","IconButton","width","NavBar","Box","sx","flexGrow","AppBar","position","Toolbar","size","edge","color","aria-label","mr","component","Scanner","_onDetected","result","props","onDetected","Quagga","init","inputStream","type","target","document","querySelector","locator","halfSample","patchSize","debug","showCanvas","showPatches","showFoundPatches","showSkeleton","showLabels","showPatchLabels","showRemainingPatchLabels","boxFromPatches","showTransformed","showTransformedBox","showBB","numOfWorkers","decoder","readers","drawBoundingBox","showFrequency","drawScanline","showPattern","locate","err","console","log","start","this","offDetected","id","src","className","Component","BarCodeScanner","getItemID","e","codeResult","code","BarCodeHandler","storeID","setItemData","flag","setFlag","handleScan","data","axios","get","process","headers","item_id","store_id","res","alert","textAlign","StoreName","marginTop","Store","match","params","storeData","setStoreData","allItems","setAllitems","filter","item","getStoreDetails","store_name","newItem","map","App","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.41c96b52.chunk.js","sourcesContent":["const NotFound = () => {\r\n  return <h1>not found</h1>;\r\n};\r\n\r\nexport default NotFound;\r\n","import { Button, Paper, Typography } from \"@mui/material\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst CartCard = ({ items }) => {\r\n  const [itemScaned, setItemScaned] = useState(false);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  useEffect(() => {\r\n    if (items.length > 1) {\r\n      setItemScaned(true);\r\n      setTotalPrice(\r\n        items.reduce((a, b) => {\r\n          if (typeof a === \"number\") {\r\n            return Number(a) + Number(b.price);\r\n          }\r\n          return Number(a.price) + Number(b.price);\r\n        })\r\n      );\r\n    }\r\n    if (items.length === 1) {\r\n      setItemScaned(true);\r\n      setTotalPrice(Number(items[0].price));\r\n    }\r\n    if (items.length < 1) {\r\n      setItemScaned(false);\r\n    }\r\n  }, [items]);\r\n\r\n  return (\r\n    <div>\r\n      {itemScaned ? (\r\n        <Paper style={{ margin: 20, padding: 20 }}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            <div>\r\n              <Typography variant=\"h6\">Total: {totalPrice}</Typography>\r\n            </div>\r\n            <Button\r\n              variant=\"contained\"\r\n              style={{ borderRadius: 5 }}\r\n              onClick={() => {\r\n                if (window.confirm(\"Are you sure you want to check out?\")) {\r\n                  window.location.reload();\r\n                }\r\n              }}\r\n            >\r\n              Check out\r\n            </Button>\r\n          </div>\r\n        </Paper>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartCard;\r\n","import { IconButton, Paper, Typography } from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\n\r\nconst ItemCard = ({ itemData, index, deleteItem }) => {\r\n  return (\r\n    <Paper style={{ margin: 10, padding: 20 }}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <div>\r\n          <Typography variant=\"h6\">\r\n            <b>{itemData.name}</b>\r\n          </Typography>\r\n\r\n          <Typography variant=\"body1\">Price {itemData.price}</Typography>\r\n        </div>\r\n        <IconButton\r\n          style={{ width: 50, borderRadius: 5 }}\r\n          onClick={() => {\r\n            deleteItem(index);\r\n          }}\r\n        >\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default ItemCard;\r\n","import * as React from \"react\";\r\nimport AppBar from \"@mui/material/AppBar\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Button from \"@mui/material/Button\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport HomeRoundedIcon from \"@mui/icons-material/HomeRounded\";\r\n\r\nexport default function NavBar() {\r\n  return (\r\n    <Box sx={{ flexGrow: 1 }}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            size=\"large\"\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            sx={{ mr: 2 }}\r\n          >\r\n            <HomeRoundedIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n            CHEK\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </Box>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Quagga from \"quagga\";\r\nimport { useState } from \"react\";\r\nimport { width } from \"@mui/system\";\r\n\r\nclass Scanner extends Component {\r\n  componentDidMount() {\r\n    Quagga.init(\r\n      {\r\n        inputStream: {\r\n          type: \"LiveStream\",\r\n\r\n          target: document.querySelector(\"#barcode-scanner\"),\r\n        },\r\n        locator: {\r\n          halfSample: true,\r\n          patchSize: \"large\", // x-small, small, medium, large, x-large\r\n          debug: {\r\n            showCanvas: true,\r\n            showPatches: false,\r\n            showFoundPatches: false,\r\n            showSkeleton: false,\r\n            showLabels: false,\r\n            showPatchLabels: false,\r\n            showRemainingPatchLabels: false,\r\n            boxFromPatches: {\r\n              showTransformed: true,\r\n              showTransformedBox: true,\r\n              showBB: true,\r\n            },\r\n          },\r\n        },\r\n        numOfWorkers: 4,\r\n        decoder: {\r\n          readers: [\"code_128_reader\"],\r\n          debug: {\r\n            drawBoundingBox: true,\r\n            showFrequency: true,\r\n            drawScanline: true,\r\n            showPattern: true,\r\n          },\r\n        },\r\n        locate: true,\r\n      },\r\n      function (err) {\r\n        if (err) {\r\n          return console.log(err);\r\n        }\r\n        Quagga.start();\r\n      }\r\n    );\r\n    Quagga.onDetected(this._onDetected);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    Quagga.offDetected(this._onDetected);\r\n  }\r\n\r\n  _onDetected = (result) => {\r\n    this.props.onDetected(result);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"barcode-scanner\">\r\n        <video style={{ width: \"100%\", borderRadius: 5 }} src=\"\"></video>\r\n        <canvas style={{ display: \"none\" }} className=\"drawingBuffer\"></canvas>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst BarCodeScanner = ({ getItemID }) => {\r\n  const _onDetected = (e) => {\r\n    console.log(e);\r\n    getItemID(e.codeResult.code);\r\n  };\r\n\r\n  return <Scanner onDetected={_onDetected} />;\r\n};\r\n\r\nexport default BarCodeScanner;\r\n","import { Button, Paper } from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport BarCodeScanner from \"./BarcodeScanner\";\r\n\r\nfunction BarCodeHandler({ storeID, setItemData }) {\r\n  const [flag, setFlag] = useState(false);\r\n  const handleError = (e) => {\r\n    if (e) {\r\n      window.alert(\"Some error occured\");\r\n    }\r\n  };\r\n  const handleScan = async (data) => {\r\n    if (flag && data) {\r\n      console.log(\"data read\", data);\r\n      setFlag(false);\r\n      try {\r\n        const res = await axios.get(\r\n          `${process.env.REACT_APP_BACKEND_HOST}/item/getItemData`,\r\n          {\r\n            headers: {\r\n              item_id: data,\r\n              store_id: storeID,\r\n            },\r\n          }\r\n        );\r\n        console.log(res.data.itemData);\r\n        setItemData(res.data.itemData);\r\n      } catch (error) {\r\n        window.alert(\"Some error occured\");\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: 20,\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      {flag ? (\r\n        <Paper style={{ padding: 5 }}>\r\n          <BarCodeScanner getItemID={handleScan} />\r\n        </Paper>\r\n      ) : (\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={() => {\r\n            setFlag(true);\r\n          }}\r\n        >\r\n          Scan\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BarCodeHandler;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport CartCard from \"../components/cartCard\";\r\nimport ItemCard from \"../components/itemCard\";\r\nimport NavBar from \"../components/nav-bar\";\r\nimport BarCodeHandler from \"../components/BarCodeHandler\";\r\nimport BarCodeScanner from \"../components/BarcodeScanner\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst StoreName = ({ name }) => {\r\n  return (\r\n    <div style={{ textAlign: \"center\", marginTop: 20 }}>\r\n      <Typography variant=\"h5\">\r\n        <b>{name}</b>\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Store = ({\r\n  match: {\r\n    params: { id },\r\n  },\r\n}) => {\r\n  const [storeData, setStoreData] = useState({});\r\n  const [allItems, setAllitems] = useState([]);\r\n\r\n  const handleScannedItem = (newItem) => {\r\n    setAllitems([...allItems, newItem]);\r\n  };\r\n\r\n  const deleteItem = (id) => {\r\n    setAllitems(allItems.filter((item, index) => index !== id));\r\n  };\r\n\r\n  const getStoreDetails = async () => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${process.env.REACT_APP_BACKEND_HOST}/store/getStoreData`,\r\n        {\r\n          headers: {\r\n            store_id: id,\r\n          },\r\n        }\r\n      );\r\n      console.log(res.data.storeData);\r\n      setStoreData(res.data.storeData);\r\n    } catch (error) {\r\n      window.alert(\"Some error occured\");\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStoreDetails();\r\n  }, []);\r\n  useEffect(() => {\r\n    console.log(allItems);\r\n  }, [allItems]);\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <StoreName name={storeData.store_name} />\r\n      <BarCodeHandler setItemData={handleScannedItem} storeID={id} />\r\n      {allItems.length > 0\r\n        ? allItems.map((item, index) => (\r\n            <ItemCard\r\n              key={index}\r\n              index={index}\r\n              itemData={item}\r\n              deleteItem={deleteItem}\r\n            />\r\n          ))\r\n        : \"\"}\r\n      <CartCard items={allItems} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Store;\r\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport NotFound from \"./components/not-found\";\r\nimport Store from \"./pages/Store\";\r\nimport BarCodeScanner from \"./components/BarcodeScanner\";\r\nimport NavBar from \"./components/nav-bar\";\r\nimport { CssBaseline } from \"@mui/material\";\r\nconst App = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        {/* <CssBaseline /> */}\r\n        <Route exact path=\"/\" component={() => <h1>Home</h1>} />\r\n        <Route exact path=\"/barcode\" component={BarCodeScanner} />\r\n        <Route exact path=\"/storeHome/:id\" component={Store} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}